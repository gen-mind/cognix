<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="theme-color" content="#375EAB">

  <title>ai - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../lib/godoc/style.css">

<script>window.initFuncs = [];</script>
<script src="../../../../../../lib/godoc/jquery.js" defer></script>



<script>var goVersion = "go1.18.1";</script>
<script src="../../../../../../lib/godoc/godocs.js" defer></script>
</head>
<body>

<div id='lowframe' style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">&#9661;</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/><path d="M0 0h24v24H0z" fill="none"/></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package ai
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import "cognix.ch/api/v2/core/ai"</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				
				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
			
				
				<dd><a href="index.html#Builder">type Builder</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewBuilder">func NewBuilder() *Builder</a></dd>
				
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Builder.Invalidate">func (b *Builder) Invalidate(llm *model.LLM)</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#Builder.New">func (b *Builder) New(llm *model.LLM) OpenAIClient</a></dd>
				
			
				
				<dd><a href="index.html#EmbeddingConfig">type EmbeddingConfig</a></dd>
				
				
			
				
				<dd><a href="index.html#OpenAIClient">type OpenAIClient</a></dd>
				
					
					<dd>&nbsp; &nbsp; <a href="index.html#NewOpenAIClient">func NewOpenAIClient(modelID, apiKey string) OpenAIClient</a></dd>
				
				
			
				
				<dd><a href="index.html#Response">type Response</a></dd>
				
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/builder.go">builder.go</a>
			
				<a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/embedding.go">embedding.go</a>
			
				<a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/module.go">module.go</a>
			
				<a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/open-ai.go">open-ai.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
		
			<h2 id="pkg-variables">Variables</h2>
			
				
				<pre>var <span id="EmbeddingModule">EmbeddingModule</span> = <a href="http://localhost:6060/pkg/go.uber.org/fx/">fx</a>.<a href="http://localhost:6060/pkg/go.uber.org/fx/#Options">Options</a>(
    <a href="http://localhost:6060/pkg/go.uber.org/fx/">fx</a>.<a href="http://localhost:6060/pkg/go.uber.org/fx/#Provide">Provide</a>(func() (*<a href="index.html#EmbeddingConfig">EmbeddingConfig</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>) {
        cfg := <a href="index.html#EmbeddingConfig">EmbeddingConfig</a>{}
        if err := <a href="../utils/index.html">utils</a>.<a href="../utils/index.html#ReadConfig">ReadConfig</a>(&amp;cfg); err != <a href="http://localhost:6060/pkg/builtin/#nil">nil</a> {
            return <a href="http://localhost:6060/pkg/builtin/#nil">nil</a>, err
        }
        return &amp;cfg, <a href="http://localhost:6060/pkg/builtin/#nil">nil</a>
    },
        newEmbeddingGRPCClient),
)</pre>
			
		
		
		
			
			
			<h2 id="Builder">type <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/builder.go?s=441:516#L17">Builder</a>
				<a class="permalink" href="index.html#Builder">&#xb6;</a>
				
				
			</h2>
			<p>
Builder is a type that manages the creation and caching of OpenAIClient instances.
Type Declaration:
</p>
<pre>type Builder struct {
		clients map[int64]OpenAIClient
		mx      sync.Mutex
}
</pre>
<p>
Usage Example:
NewBuilder returns a new instance of Builder.
go doc Builder
</p>
<p>
Returns:
</p>
<pre>An instance of Builder.
</pre>
<p>
Example:
</p>
<pre>builder := NewBuilder()
</pre>

			<pre>type Builder struct {
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewBuilder">func <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/builder.go?s=612:638#L27">NewBuilder</a>
					<a class="permalink" href="index.html#NewBuilder">&#xb6;</a>
					
					
				</h3>
				<pre>func NewBuilder() *<a href="index.html#Builder">Builder</a></pre>
				<p>
NewBuilder returns a new instance of Builder.
</p>
<p>
Returns:
</p>
<pre>An instance of Builder.
</pre>

				
				
			

			
				
				<h3 id="Builder.Invalidate">func (*Builder) <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/builder.go?s=1473:1517#L54">Invalidate</a>
					<a class="permalink" href="index.html#Builder.Invalidate">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#Builder">Builder</a>) Invalidate(llm *<a href="../model/index.html">model</a>.<a href="../model/index.html#LLM">LLM</a>)</pre>
				<p>
Invalidate removes the OpenAIClient instance for the given LLM ID from the Builder&#39;s cache.
</p>

				
				
				
			
				
				<h3 id="Builder.New">func (*Builder) <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/builder.go?s=1112:1162#L42">New</a>
					<a class="permalink" href="index.html#Builder.New">&#xb6;</a>
					
					
				</h3>
				<pre>func (b *<a href="index.html#Builder">Builder</a>) New(llm *<a href="../model/index.html">model</a>.<a href="../model/index.html#LLM">LLM</a>) <a href="index.html#OpenAIClient">OpenAIClient</a></pre>
				<p>
New returns a new instance of OpenAIClient. If the client for the given LLM ID already exists in the Builder&#39;s cache,
that client is returned; otherwise, a new client is created using the NewOpenAIClient function. The client is then
added to the Builder&#39;s cache and returned.
</p>
<p>
Parameters:
</p>
<pre>llm - The LLM model used to create the OpenAIClient.
</pre>
<p>
Returns:
</p>
<pre>An instance of OpenAIClient.
</pre>

				
				
				
			
		
			
			
			<h2 id="EmbeddingConfig">type <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/embedding.go?s=231:376#L1">EmbeddingConfig</a>
				<a class="permalink" href="index.html#EmbeddingConfig">&#xb6;</a>
				
				
			</h2>
			<p>
EmbeddingConfig is a configuration struct for embedding module.
</p>
<p>
It contains the configuration options for connecting to the embedding server
over gRPC.
</p>

			<pre>type EmbeddingConfig struct {
<span id="EmbeddingConfig.EmbedderHost"></span>    EmbedderHost <a href="http://localhost:6060/pkg/builtin/#string">string</a> `env:&#34;EMBEDDER_GRPC_HOST,required&#34;`
<span id="EmbeddingConfig.EmbedderPort"></span>    EmbedderPort <a href="http://localhost:6060/pkg/builtin/#int">int</a>    `env:&#34;EMBEDDER_GRPC_PORT,required&#34;`
}
</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="OpenAIClient">type <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/open-ai.go?s=383:476#L7">OpenAIClient</a>
				<a class="permalink" href="index.html#OpenAIClient">&#xb6;</a>
				
				
			</h2>
			<p>
OpenAIClient is an interface for making requests to the OpenAI chat API.
The Request method takes a context and a message as input and returns a Response or an error.
</p>

			<pre>type OpenAIClient interface {
    Request(ctx <a href="http://localhost:6060/pkg/context/">context</a>.<a href="http://localhost:6060/pkg/context/#Context">Context</a>, message <a href="http://localhost:6060/pkg/builtin/#string">string</a>) (*<a href="index.html#Response">Response</a>, <a href="http://localhost:6060/pkg/builtin/#error">error</a>)
}</pre>

			

			

			
			
			

			
				
				<h3 id="NewOpenAIClient">func <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/open-ai.go?s=2299:2356#L53">NewOpenAIClient</a>
					<a class="permalink" href="index.html#NewOpenAIClient">&#xb6;</a>
					
					
				</h3>
				<pre>func NewOpenAIClient(modelID, apiKey <a href="http://localhost:6060/pkg/builtin/#string">string</a>) <a href="index.html#OpenAIClient">OpenAIClient</a></pre>
				<p>
NewOpenAIClient is a function that creates a new instance of the OpenAIClient.
It takes the modelID and apiKey as input parameters and returns an instance of OpenAIClient.
The function creates a new openaIClient struct with the provided modelID and apiKey.
It then initializes the client field with the openai.NewClient function using the apiKey.
Finally, it sets the modelID field with the provided modelID and returns the created struct as an OpenAIClient.
</p>

				
				
			

			
		
			
			
			<h2 id="Response">type <a href="http://localhost:6060/src/cognix.ch/api/v2/core/ai/open-ai.go?s=168:205#L1">Response</a>
				<a class="permalink" href="index.html#Response">&#xb6;</a>
				
				
			</h2>
			<p>
Response is a struct that represents the response from the OpenAI chat API.
</p>

			<pre>type Response struct {
<span id="Response.Message"></span>    Message <a href="http://localhost:6060/pkg/builtin/#string">string</a>
}
</pre>

			

			

			
			
			

			

			
		
	

	







<div id="footer">
Build version go1.18.1.<br>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->
</body>
</html>
